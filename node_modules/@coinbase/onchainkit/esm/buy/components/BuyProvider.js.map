{"version":3,"file":"BuyProvider.js","sources":["../../../src/buy/components/BuyProvider.tsx"],"sourcesContent":null,"names":["emptyContext","BuyContext","createContext","useBuyContext","context","useContext","Error","BuyProvider","children","config","maxSlippage","FALLBACK_DEFAULT_MAX_SLIPPAGE","disabled","experimental","isSponsored","onError","onStatus","onSuccess","toToken","fromToken","paymaster","undefined","projectId","useOnchainKit","address","chainId","useAccount","switchChainAsync","useSwitchChain","useAggregator","accountConfig","useConfig","isDropdownOpen","setIsDropdownOpen","useState","walletCapabilities","useCapabilitiesSafe","base","id","lifecycleStatus","updateLifecycleStatus","useLifecycleStatus","statusName","statusData","isMissingRequiredField","transactionHash","setTransactionHash","hasHandledSuccess","setHasHandledSuccess","from","fromETH","fromUSDC","to","useBuyTokens","sendTransactionAsync","useSendTransaction","sendCallsAsync","useSendCalls","resetInputs","useResetBuyInputs","awaitCallsStatus","useAwaitCalls","onPopupClose","useOnrampEventListeners","startPopupMonitor","usePopupMonitor","useEffect","transactionReceipt","console","error","transactionType","timer","setTimeout","clearTimeout","handleAmountChange","useCallback","amount","token","amountETH","amountUSDC","amountTo","tokenTo","Number","parseFloat","setAmount","setAmountUSD","setLoading","amountFrom","tokenFromETH","tokenFromUSDC","tokenFrom","response","responseETH","formattedFromAmount","formattedAmountETH","getBuyQuote","String","fromSwapUnit","responseUSDC","formattedAmountUSDC","responseFrom","formattedAmountFrom","isValid","validateQuote","err","code","JSON","stringify","message","handleSubmit","buildSwapTransaction","fromAddress","isSwapError","processSwapTransaction","swapTransaction","errorMessage","isUserRejectedRequestError","GENERIC_ERROR_MESSAGE","value","useValue","_jsx","Provider"],"mappings":"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"}